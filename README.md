# Javascript 面向对象

## 面向对象思想

继承，封装，多态，抽象

面向对象是对面向过程的封装,有了面向对象并不意味着,就可以抛弃面向过程

## 变量预解析

js代码在执行之前 会在相应的执行环境中 预先把 一些东西解析到内存

js解析器在运行js代码的时候 分为两步：

- 第一步 把所有的 ``变量、函数、参数`` 提前到当前作用域的顶部。
    + 只提前变量,不提前值
    + 方法是整体的提升
- 第二步 逐行解读代码 从左到右、从上至下。

```javascript
console.log(a); // undefined
var a = 111;

// 前面这段代码等于
var a;
console.log(a); // undefined
a = 111;
```
```javascript
//方法整体提升
// 1.先运行fun();
// 2.提前变量,var num;
// 3.console.log(num);  undefined
// 4.num=20
// 5.var num=10 最外面
var num = 10;
fun();  // undefined
function fn(){
    console.log(num);
    var num = 20;
}
```

```javascript

// 1.函数提前
// 2.var a=9; b=9; c=9 只有a是局部变量,其他都是全局变量
// 3.外面执行不了函数里面的局部变量 a , 报错
f2();
console.log(c); // 9
console.log(b); // 9
console.log(a); // 报错

function f2(){
    var a=b=c=9;
    console.log(a); //9
    console.log(b); //9
    console.log(c); //9
}
```

## 闭包

**闭包的概念**

>各种专业文献上的"闭包"（closure）定义非常抽象，很难看懂。我的理解是，闭包就是能够读取其他函数内部变量的函数。由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成"定义在一个函数内部的函数"。所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。[阮一峰](http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html)


- 闭包原理:上级作用域无法访问下级作用域 , 而下级作用域可以访问上级作用域
- 闭包要解决什么问题
    + 函数内部的函数中可以访问该函数变量
    + 但是我们需要在函数外部中访问函数内部变量 

- 闭包基本模式 
    + 在外部函数(foo)内部创建函数(inner) , 在这个函数内部中(inner)可以操作foo中的数据   (inner可以修改num)
    + 将外部函数中的返回值 设置为 内部函数 , (返回 inner)
    + 在外部调用 外部函数(foo) , 就可以接受到返回值 (inner)
    + 使用这个内部函数,就可以在外部 将 外部函数里的变量(num) 进行修改

- 缺点
    + 消耗更多的内存 

## 错误处理

**错误一定会发生**

当 JavaScript 引擎执行 JavaScript 代码时，会发生各种错误：
可能是语法错误，通常是程序员造成的编码错误或错别字。
可能是拼写错误或语言中缺少的功能（可能由于浏览器差异）。
可能是由于来自服务器或用户的错误输出而导致的错误。
当然，也可能是由于许多其他不可预知的因素。

**JavaScript 抛出错误**

当错误发生时，当事情出问题时，JavaScript 引擎通常会停止，并生成一个错误消息。

描述这种情况的技术术语是：JavaScript 将抛出一个错误。

**JavaScript 测试和捕捉**

try 语句允许我们定义在执行时进行错误测试的代码块。

catch 语句允许我们定义当 try 代码块发生错误时，所执行的代码块。

JavaScript 语句 try 和 catch 是成对出现的。

**错误对象**

- SyntaxError:语法错误
- ReferenceError:引用错误,要的变量没找到
- TypeError:类型错误 , 把变量当方法使用, 把方法当变量使用
    + 错误的使用了类型
    + 错误的调用了类型的方法
- RangeError:范围错误 , 参数超范围

## 重载


> 所谓重载，简单说，就是函数或者方法有相同的名称，但是参数列表不相同的情形，这样的同名不同参数的函数或者方法之间，互相称之为重载函数或者方法。所以说，重载主要需要两点：第一，同样的函数名。第二，不同的函数参数。

javascript**不支持重载**,但是可以**模仿**函数的重载



**arguments**

- 每个函数自带 arguments
- 传入的参数值是 类数组对象 , 是对象
- 类数组 与 数组相同点 :
    + 都有下标
    + .length
- 类数组 与 数组不同点
    + arguments是对象类型
    + 数组是Array
    + 不能互用API
